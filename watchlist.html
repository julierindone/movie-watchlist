<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Movie Watchlist</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Limelight&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="assets/css/all.css">
	<link rel="stylesheet" href="assets/css/reset.css">
	<link rel="stylesheet" href="assets/css/style.css">
	<link rel="stylesheet" href="assets/css/cards.css">
</head>

<!-- TODO: Move the actual HTML to be generated within the index.html page -->

<body id="watchlist">
	<div class="body-wrapper">
		<nav class="nav-bar">
			<div class="nav-wrapper">
				<a href="index.html">
					search
				</a>
				<a href="watchlist.html">
					watchlist
				</a>
				<!-- TODO: change to a tag after creation -->
				<p>
					about
				</p>
			</div>
		</nav>
		<header>
			<div class="header-text-wrapper">
				<h1>WATCHLIST</h1>
				<!-- Removing form until i decide what kind of handling it should have on the watchlist page -->
			</div>
	<script src="index.js"></script>
	<script>
		const watchlistCardsWrapper = document.getElementById('watchlist-cards-wrapper');
		cardWrapperType = "watchlistCardsWrapper";

		generateWatchlistHtml(watchlistArray);

		function generateWatchlistHtml(watchlistArray) {
			if (watchlistArray.length > 0) {
				let allMovieCards = `<div id="watchlist-cards-wrapper" class="cards-wrapper cards">`;

				watchlistArray.forEach(movie => {
					allMovieCards +=
						`<article class="movie-card fuzzy-results">
						<img class="thumbnail" src="${movie.thumbnail}" alt="${movie.alt}">
						<div class="movie-details">
							<div class="title-watchlist">
								<h2>${movie.title}</h2>
								<i class="fa-solid fa-circle-check" data-imdb-id="${movie.imdbId}"></i>
							</div>
							<p class="year">${movie.year}</p>
							<details id="more">
								<summary>more</summary>
								<div>
									<p>The other details will go here.</p>
								</div>
							</details>
						</div>
					</article>
					<hr class="card-divider">`;
				});

				allMovieCards += `</div>`;

				cardSection.classList.remove('space-saver');
				cardSection.innerHTML = allMovieCards;
			}

			else {
				resetAll();
			}
		}
	</script>
</body>